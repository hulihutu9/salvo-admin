<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "https://raw.githubusercontent.com/rbatis/rbatis/master/rbatis-codegen/mybatis-3-mapper.dtd">
<mapper>
    <select id="get_{{business_name}}_list_by_user_id">
        `select sp.* from {{table_name}} sp inner join sys_user_post sup on sp.{{business_name}}_id = sup.role_id where sup.user_id = #{user_id}`
    </select>
    <select id="get_{{business_name}}_page">
        `select * from {{table_name}}`
        <where>
            1 = 1
            <if test="{{business_name}}_code != '' && {{business_name}}_code != null">
                ` and {{business_name}}_code = #{ {{business_name}}_code}`
            </if>
            <if test="{{business_name}}_name != '' && {{business_name}}_name != null ">
                ` and {{business_name}}_name = #{ {{business_name}}_name}`
            </if>
            <if test="status != '' && status != null">
                ` and status = #{status}`
            </if>
            ` limit #{page_num},#{page_size}`
        </where>
    </select>
    <select id="get_{{business_name}}_by_id">
        `select * from {{table_name}}`
        <where>
            `{{business_name}}_id = #{ {{business_name}}_id}`
        </where>
    </select>
    <select id="get_{{business_name}}_count">
        `select count(*) from {{table_name}}`
        <where>
            1 = 1
            <if test="{{business_name}}_code != '' && {{business_name}}_code != null">
                ` and {{business_name}}_code = #{ {{business_name}}_code}`
            </if>
            <if test="{{business_name}}_name != '' && {{business_name}}_name != null">
                ` and {{business_name}}_name = #{ {{business_name}}_name}`
            </if>
            <if test="status != '' && status != null">
                ` and status = #{status}`
            </if>
        </where>
    </select>
    <delete id="del_{{business_name}}_by_id">
        `delete from {{table_name}}`
        <where>
            `1 = 1 and {{business_name}}_id in ( ${ {{business_name}}_id} )`
        </where>
    </delete>
    <select id="get_{{business_name}}_list">
        `select * from {{table_name}}`
    </select>
</mapper>